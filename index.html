<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Adam Skarre</title>
<link rel="icon" type="image/png" href="assets/images/logo.png">
  <link rel="stylesheet" href="style.css" />

  <style>
    /* --- THEME VARIABLES --- */
    :root {
      --bg: #ffffff;
      --text: #111111;
      --muted: #555;
      --card: #f4f4f5;
      --border: #e5e7eb;
      --shadow: 0 10px 30px rgba(0,0,0,0.08);

      --pill: rgba(17,17,17,0.06);
      --pillText: rgba(17,17,17,0.8);

      --weatherBlue1: #cfe2ff;
      --weatherBlue2: #8db9ff;
      --weatherBlue3: #2f6feb;
      --weatherInk: #0b1b3a;

      --btnBg: #ffffff;
      --btnText: #111111;
      --btnBorder: rgba(0,0,0,0.12);
      --btnShadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    [data-theme="dark"] {
      --bg: #0f1115;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --card: #1c1f26;
      --border: #2a2f3a;
      --shadow: 0 12px 40px rgba(0,0,0,0.35);

      --pill: rgba(229,231,235,0.08);
      --pillText: rgba(229,231,235,0.85);

      --weatherBlue1: #0f2a66;
      --weatherBlue2: #103680;
      --weatherBlue3: #2f6feb;
      --weatherInk: #eaf1ff;

      --btnBg: rgba(255,255,255,0.14);
      --btnText: #eaf1ff;
      --btnBorder: rgba(255,255,255,0.18);
      --btnShadow: 0 10px 26px rgba(0,0,0,0.45);
    }

    body {
      background: var(--bg);
      color: var(--text);
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* --- NAV --- */
    header {
      position: sticky;
      top: 0;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      z-index: 100;
      backdrop-filter: saturate(140%) blur(10px);
    }

    .nav {
      max-width: 1100px;
      margin: 0 auto;
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav-left {
      font-weight: 600;
      font-size: 1.1rem;
    }

    .nav-right {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    /* --- THEME TOGGLE (smooth switch) --- */
    .theme-switch {
      width: 66px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: var(--card);
      position: relative;
      cursor: pointer;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.35);
      display: inline-flex;
      align-items: center;
      padding: 4px;
    }

    .theme-knob {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: var(--bg);
      border: 1px solid var(--border);
      box-shadow: 0 8px 18px rgba(0,0,0,0.18);
      transform: translateX(0);
      transition: transform 220ms ease;
      display: grid;
      place-items: center;
    }

    [data-theme="dark"] .theme-knob {
      transform: translateX(32px);
    }

    .icon-sun, .icon-moon {
      width: 18px;
      height: 18px;
      display: none;
    }

    [data-theme="light"] .icon-sun { display: block; }
    [data-theme="dark"]  .icon-moon { display: block; }

    .icon-sun svg { fill: #f5c518; }     /* yellow sun */
    .icon-moon svg { fill: #cfd6e6; }    /* moon */

    .theme-switch:focus-visible {
      outline: 2px solid rgba(47,111,235,0.55);
      outline-offset: 3px;
    }

    /* --- MAIN LAYOUT --- */
    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 4rem 1rem;
      display: grid;
      gap: 3rem;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 2rem;
      box-shadow: var(--shadow);
    }

    /* --- HERO --- */
    .hero h1 {
      margin: 0 0 0.75rem 0;
      font-size: 2.4rem;
    }

    .hero p {
      max-width: 650px;
      color: var(--muted);
      line-height: 1.6;
    }

    .hero a {
      display: inline-block;
      margin-top: 1.25rem;
      font-weight: 500;
      border-bottom: 1px solid var(--text);
    }

    /* --- ABOUT BLOCK --- */
    .about ul {
      margin: 1rem 0 0 0;
      padding-left: 1.2rem;
    }

    .about li {
      margin-bottom: 0.6rem;
      color: var(--muted);
    }

    /* --- CAPABILITIES --- */
    .cap-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .cap {
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem;
      background: var(--bg);
      transition: transform 0.15s ease;
    }

    .cap:hover {
      transform: translateY(-2px);
    }

    .cap h4 {
      margin: 0 0 0.4rem 0;
    }

    .cap p {
      margin: 0;
      font-size: 0.9rem;
      color: var(--muted);
    }

   /* --- WEATHER (compact centered card like AnaÃ¯s) --- */
.weather-wrap {
  display: grid;
  justify-items: center;
  gap: 0.9rem;
  margin-top: 0.25rem;
}

.weather-title {
  font-weight: 600;
  margin: 0;
  color: var(--text);
  justify-self: start;
  width: 100%;
  max-width: 820px;
}

.weather-card {
  width: min(520px, 100%);
  border-radius: 18px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, var(--weatherBlue1), var(--weatherBlue2));
  color: var(--weatherInk);
  padding: 1.6rem 1.6rem 1.4rem 1.6rem;
  box-shadow: var(--shadow);
  text-align: center;
}

.weather-question {
  margin: 0 0 1rem 0;
  font-size: 1.6rem;
  font-weight: 800;
  letter-spacing: -0.02em;
}

.weather-cta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
  padding: 0.75rem 1.25rem;
  border: 1px solid rgba(0,0,0,0.08);
  background: var(--weatherBlue3);
  color: #fff;
  cursor: pointer;
  font-weight: 700;
  box-shadow: 0 10px 22px rgba(0,0,0,0.12);
}

[data-theme="dark"] .weather-cta {
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 12px 26px rgba(0,0,0,0.40);
}

.weather-cta:active { transform: translateY(1px); }

.weather-mini {
  margin-top: 1rem;
  color: inherit;
  opacity: 0.92;
  font-size: 0.95rem;
  line-height: 1.4;
  display: none; /* revealed after load */
}

.weather-mini strong {
  font-size: 1.15rem;
  opacity: 1;
}

.weather-note {
  margin-top: 0.9rem;
  font-size: 0.85rem;
  opacity: 0.75;
}
  </style>
</head>

<body>
  <!-- NAV -->
  <header>
    <div class="nav">
  <div class="nav-left">
  <a href="index.html">Adam Skarre</a>
</div>
      <nav class="nav-right">
        <a href="projects.html">Projects</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>

        <button class="theme-switch" id="themeToggle" type="button" aria-label="Toggle theme">
          <span class="theme-knob">
            <span class="icon-sun" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm0-16a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1Zm0 18a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1ZM4.22 5.64a1 1 0 0 1 1.41 0l.7.7A1 1 0 1 1 4.92 7.76l-.7-.7a1 1 0 0 1 0-1.41Zm13.45 13.45a1 1 0 0 1 1.41 0l.7.7a1 1 0 0 1-1.41 1.41l-.7-.7a1 1 0 0 1 0-1.41ZM2 12a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm18 0a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2h-1a1 1 0 0 1-1-1ZM4.22 18.36a1 1 0 0 1 0-1.41l.7-.7a1 1 0 1 1 1.41 1.41l-.7.7a1 1 0 0 1-1.41 0Zm13.45-13.45a1 1 0 0 1 0-1.41l.7-.7a1 1 0 1 1 1.41 1.41l-.7.7a1 1 0 0 1-1.41 0Z"/>
              </svg>
            </span>
            <span class="icon-moon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M21.64 13a1 1 0 0 0-1.06-.27 8 8 0 0 1-10.31-10.3A1 1 0 0 0 9 1.36 10 10 0 1 0 22.64 14a1 1 0 0 0-1-.99ZM12 20a8 8 0 0 1-3.52-15.2 10 10 0 0 0 10.72 10.72A7.99 7.99 0 0 1 12 20Z"/>
              </svg>
            </span>
          </span>
        </button>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <!-- HERO -->
    <section class="card hero">
      <h1>Welcome</h1>
      <p>
      Iâ€™m Adam Skarre. My work sits at the intersection of engineering and financial technology. Iâ€™m driven by quantitative problem-solving and systems thinking, with a focus on building technically grounded solutions that connect computer science, mathematics, and real-world decision making. This site documents projects across design, manufacturing, quantitative modeling, and applied analysis.
      </p>
      <a href="projects.html">View projects â†’</a>
    </section>

    <!-- ABOUT -->
    <section class="card about">
      <h2>About</h2>
      <ul>
        <li>Mechanical Engineering background with design and manufacturing focus</li>
        <li>Experience with quantitative modeling and analytical problem-solving</li>
        <li>Drawn to solving problems at the intersection of engineering, finance, and technology</li>
        <li>Comfortable bridging technical depth with business and decision-oriented contexts</li>
      </ul>

    </section>

   <!-- WEATHER (Compact) -->
<section class="weather-wrap">
  <div class="weather-title">Local weather this week</div>

  <div class="weather-card" id="weatherCard" aria-live="polite">
    <h3 class="weather-question">What is the weather today?</h3>

    <button class="weather-cta" id="weatherBtn" type="button">
      Check Weather
    </button>

    <div class="weather-mini" id="weatherMini">
      <div id="weatherLocation" style="font-weight:700; margin-top:0.9rem;">Local Weather</div>
      <div id="weatherMeta" style="opacity:0.85; margin-top:0.25rem;">Uses browser location Â· Fahrenheit</div>
      <div style="margin-top:0.75rem;">
        <strong id="weatherTemp">â€”</strong>
        <span id="weatherDesc" style="margin-left:0.35rem;">â€”</span>
      </div>
      <div id="weatherSub" style="margin-top:0.35rem; opacity:0.9;">â€”</div>
    </div>

    <div class="weather-note" id="weatherNote"></div>
  </div>
</section>
  </main>

  <!-- SCRIPTS -->
  <script>
    /* ---------- Theme toggle ---------- */
    const html = document.documentElement;
    const toggle = document.getElementById("themeToggle");

    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) html.setAttribute("data-theme", savedTheme);

    toggle.addEventListener("click", () => {
      const next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
      html.setAttribute("data-theme", next);
      localStorage.setItem("theme", next);
    });

  /* ---------- Weather (Open-Meteo + reverse geocode) ---------- */
(() => {
  const weatherBtn = document.getElementById("weatherBtn");
  const weatherLocation = document.getElementById("weatherLocation");
  const weatherMeta = document.getElementById("weatherMeta");
  const weatherMain = document.getElementById("weatherMain");
  const weatherTemp = document.getElementById("weatherTemp");
  const weatherDesc = document.getElementById("weatherDesc");
  const weatherSub = document.getElementById("weatherSub");
  const forecastTitle = document.getElementById("forecastTitle");
  const forecastGrid = document.getElementById("forecastGrid");
  const weatherFooter = document.getElementById("weatherFooter");
  const detailLink = document.getElementById("detailLink");

  // If the button isn't found, do nothing (prevents the whole page script from dying).
  if (!weatherBtn) return;

  function dowShort(isoDate) {
    const d = new Date(isoDate + "T00:00:00");
    return d.toLocaleDateString(undefined, { weekday: "short", month: "short", day: "numeric" });
  }

  function weatherCodeToText(code) {
    const map = new Map([
      [0, "Clear"],
      [1, "Mainly clear"], [2, "Partly cloudy"], [3, "Overcast"],
      [45, "Fog"], [48, "Rime fog"],
      [51, "Light drizzle"], [53, "Drizzle"], [55, "Heavy drizzle"],
      [56, "Freezing drizzle"], [57, "Heavy freezing drizzle"],
      [61, "Light rain"], [63, "Rain"], [65, "Heavy rain"],
      [66, "Freezing rain"], [67, "Heavy freezing rain"],
      [71, "Light snow"], [73, "Snow"], [75, "Heavy snow"],
      [77, "Snow grains"],
      [80, "Rain showers"], [81, "Heavy showers"], [82, "Violent showers"],
      [85, "Snow showers"], [86, "Heavy snow showers"],
      [95, "Thunderstorm"],
      [96, "Thunderstorm + hail"], [99, "Thunderstorm + heavy hail"],
    ]);
    return map.get(code) || `Conditions (code ${code ?? "?"})`;
  }

  function weatherCodeToIcon(code) {
    if (code === 0) return "â˜€ï¸";
    if (code === 1 || code === 2) return "â›…";
    if (code === 3) return "â˜ï¸";
    if (code === 45 || code === 48) return "ðŸŒ«ï¸";
    if ([51,53,55,56,57].includes(code)) return "ðŸŒ¦ï¸";
    if ([61,63,65,66,67,80,81,82].includes(code)) return "ðŸŒ§ï¸";
    if ([71,73,75,77,85,86].includes(code)) return "â„ï¸";
    if ([95,96,99].includes(code)) return "â›ˆï¸";
    return "ðŸŒ¤ï¸";
  }

  async function reverseGeocode(lat, lon) {
    // Some deployments get blocked without an explicit User-Agent; use a safe fallback.
    const url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`;
    const res = await fetch(url, {
      headers: {
        "Accept": "application/json",
        "User-Agent": "adamskarre.com weather widget"
      }
    });
    if (!res.ok) throw new Error("Reverse geocode failed");
    const data = await res.json();
    const a = data.address || {};
    const city = a.city || a.town || a.village || a.hamlet || a.suburb || a.county;
    const state = a.state || a.region;
    if (city && state) return `${city}, ${state}`;
    return city || state || "Local Weather";
  }

  async function fetchWeather(lat, lon) {
    const url =
      `https://api.open-meteo.com/v1/forecast?` +
      `latitude=${lat}&longitude=${lon}` +
      `&current=temperature_2m,apparent_temperature,weather_code,wind_speed_10m` +
      `&daily=weather_code,temperature_2m_max,temperature_2m_min` +
      `&temperature_unit=fahrenheit&windspeed_unit=mph` +
      `&timezone=auto`;
    const res = await fetch(url);
    if (!res.ok) throw new Error("Weather fetch failed");
    return res.json();
  }

  function setLoading(isLoading) {
    weatherBtn.disabled = isLoading;
    weatherBtn.textContent = isLoading ? "Loadingâ€¦" : "Check Weather";
    weatherBtn.style.opacity = isLoading ? "0.85" : "1";
  }

  async function getWeather() {
    if (!navigator.geolocation) {
      if (weatherMeta) weatherMeta.textContent = "Geolocation not supported in this browser.";
      return;
    }

    setLoading(true);

    navigator.geolocation.getCurrentPosition(async (pos) => {
      try {
        const { latitude, longitude } = pos.coords;

        // Location label
        let label = "Local Weather";
        try { label = await reverseGeocode(latitude, longitude); } catch (_) {}
        if (weatherLocation) weatherLocation.textContent = label;

        const data = await fetchWeather(latitude, longitude);
        const c = data.current;

        const temp = Math.round(c.temperature_2m);
        const feels = Math.round(c.apparent_temperature);
        const wind = Math.round(c.wind_speed_10m);
        const descText = weatherCodeToText(c.weather_code);

        if (weatherMain) weatherMain.style.display = "flex";
        if (weatherTemp) weatherTemp.textContent = `${temp}Â°F`;
        if (weatherDesc) weatherDesc.textContent = `${weatherCodeToIcon(c.weather_code)} ${descText}`;
        if (weatherSub) weatherSub.textContent = `Feels like ${feels}Â°F Â· Wind ${wind} mph`;

        // 7 day
        const days = data.daily?.time || [];
        const hi = data.daily?.temperature_2m_max || [];
        const lo = data.daily?.temperature_2m_min || [];
        const codes = data.daily?.weather_code || [];

        if (forecastGrid) {
          forecastGrid.innerHTML = "";
          for (let i = 0; i < Math.min(7, days.length); i++) {
            const d = document.createElement("div");
            d.className = "day";
            d.innerHTML = `
              <div class="dow">${dowShort(days[i])}</div>
              <div class="icon">${weatherCodeToIcon(codes[i])}</div>
              <div class="hi">${Math.round(hi[i])}Â°</div>
              <div class="lo">${Math.round(lo[i])}Â°</div>
            `;
            forecastGrid.appendChild(d);
          }
        }

        if (forecastTitle) forecastTitle.style.display = "block";
        if (forecastGrid) forecastGrid.style.display = "grid";
        if (weatherFooter) weatherFooter.style.display = "block";

        // Detailed forecast: use NWS "MapClick" (works well in the US, no key)
        if (detailLink) detailLink.href = `https://forecast.weather.gov/MapClick.php?lat=${latitude}&lon=${longitude}`;

        setLoading(false);
      } catch (e) {
        setLoading(false);
        if (weatherMeta) weatherMeta.textContent = "Could not load weather. Allow location access.";
      }
    }, () => {
      setLoading(false);
      if (weatherMeta) weatherMeta.textContent = "Location permission required to load local forecast.";
    }, { enableHighAccuracy: false, timeout: 12000, maximumAge: 600000 });
  }

  weatherBtn.addEventListener("click", getWeather);
})();

    weatherBtn.addEventListener("click", getWeather);
  </script>
  <footer class="site-footer">
  Â© 2025 Adam Skarre. All rights reserved.
</footer>
</body>
</html>
