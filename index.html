<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Adam Skarre</title>
<link rel="icon" type="image/png" href="assets/images/logo.png">
  <link rel="stylesheet" href="style.css" />

  <style>
    /* --- THEME VARIABLES --- */
    :root {
      --bg: #ffffff;
      --text: #111111;
      --muted: #555;
      --card: #f4f4f5;
      --border: #e5e7eb;
      --shadow: 0 10px 30px rgba(0,0,0,0.08);

      --pill: rgba(17,17,17,0.06);
      --pillText: rgba(17,17,17,0.8);

      --weatherBlue1: #cfe2ff;
      --weatherBlue2: #8db9ff;
      --weatherBlue3: #2f6feb;
      --weatherInk: #0b1b3a;

      --btnBg: #ffffff;
      --btnText: #111111;
      --btnBorder: rgba(0,0,0,0.12);
      --btnShadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    [data-theme="dark"] {
      --bg: #0f1115;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --card: #1c1f26;
      --border: #2a2f3a;
      --shadow: 0 12px 40px rgba(0,0,0,0.35);

      --pill: rgba(229,231,235,0.08);
      --pillText: rgba(229,231,235,0.85);

      --weatherBlue1: #0f2a66;
      --weatherBlue2: #103680;
      --weatherBlue3: #2f6feb;
      --weatherInk: #eaf1ff;

      --btnBg: rgba(255,255,255,0.14);
      --btnText: #eaf1ff;
      --btnBorder: rgba(255,255,255,0.18);
      --btnShadow: 0 10px 26px rgba(0,0,0,0.45);
    }

    body {
      background: var(--bg);
      color: var(--text);
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* --- NAV --- */
    header {
      position: sticky;
      top: 0;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      z-index: 100;
      backdrop-filter: saturate(140%) blur(10px);
    }

    .nav {
      max-width: 1100px;
      margin: 0 auto;
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav-left {
      font-weight: 600;
      font-size: 1.1rem;
    }

    .nav-right {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    /* --- THEME TOGGLE (smooth switch) --- */
    .theme-switch {
      width: 66px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: var(--card);
      position: relative;
      cursor: pointer;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.35);
      display: inline-flex;
      align-items: center;
      padding: 4px;
    }

    .theme-knob {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: var(--bg);
      border: 1px solid var(--border);
      box-shadow: 0 8px 18px rgba(0,0,0,0.18);
      transform: translateX(0);
      transition: transform 220ms ease;
      display: grid;
      place-items: center;
    }

    [data-theme="dark"] .theme-knob {
      transform: translateX(32px);
    }

    .icon-sun, .icon-moon {
      width: 18px;
      height: 18px;
      display: none;
    }

    [data-theme="light"] .icon-sun { display: block; }
    [data-theme="dark"]  .icon-moon { display: block; }

    .icon-sun svg { fill: #f5c518; }     /* yellow sun */
    .icon-moon svg { fill: #cfd6e6; }    /* moon */

    .theme-switch:focus-visible {
      outline: 2px solid rgba(47,111,235,0.55);
      outline-offset: 3px;
    }

    /* --- MAIN LAYOUT --- */
    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 4rem 1rem;
      display: grid;
      gap: 3rem;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 2rem;
      box-shadow: var(--shadow);
    }

    /* --- HERO --- */
    .hero h1 {
      margin: 0 0 0.75rem 0;
      font-size: 2.4rem;
    }

    .hero p {
      max-width: 650px;
      color: var(--muted);
      line-height: 1.6;
    }

    .hero a {
      display: inline-block;
      margin-top: 1.25rem;
      font-weight: 500;
      border-bottom: 1px solid var(--text);
    }

    /* --- ABOUT BLOCK --- */
    .about ul {
      margin: 1rem 0 0 0;
      padding-left: 1.2rem;
    }

    .about li {
      margin-bottom: 0.6rem;
      color: var(--muted);
    }

    /* --- CAPABILITIES --- */
    .cap-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .cap {
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem;
      background: var(--bg);
      transition: transform 0.15s ease;
    }

    .cap:hover {
      transform: translateY(-2px);
    }

    .cap h4 {
      margin: 0 0 0.4rem 0;
    }

    .cap p {
      margin: 0;
      font-size: 0.9rem;
      color: var(--muted);
    }

    /* --- WEATHER (AnaÃ¯s-like: blue card, location, 7-day) --- */
    .weather-wrap {
      margin-top: 0.25rem;
    }

    .weather-title {
      font-weight: 600;
      margin: 0 0 0.75rem 0;
      color: var(--text);
    }

    .weather-card {
      border-radius: 18px;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--weatherBlue1), var(--weatherBlue2));
      color: var(--weatherInk);
      padding: 1.4rem 1.4rem 1.2rem 1.4rem;
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
    }

    .weather-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      margin-bottom: 0.8rem;
    }

    .weather-top-left h3 {
      margin: 0;
      font-size: 1.15rem;
      letter-spacing: -0.01em;
    }

    .weather-meta {
      margin-top: 0.25rem;
      font-size: 0.92rem;
      opacity: 0.88;
    }

    .weather-cta {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      border-radius: 999px;
      padding: 0.6rem 0.95rem;
      border: 1px solid var(--btnBorder);
      background: var(--btnBg);
      color: var(--btnText);
      cursor: pointer;
      box-shadow: var(--btnShadow);
      font-weight: 600;
      white-space: nowrap;
    }

    .weather-cta:active { transform: translateY(1px); }

    .weather-main {
      display: flex;
      align-items: baseline;
      gap: 1rem;
      margin: 0.35rem 0 0.85rem 0;
      flex-wrap: wrap;
    }

    .weather-temp {
      font-size: 2.4rem;
      font-weight: 800;
      letter-spacing: -0.03em;
    }

    .weather-desc {
      font-size: 1rem;
      opacity: 0.92;
      font-weight: 600;
    }

    .weather-sub {
      font-size: 0.92rem;
      opacity: 0.88;
    }

    .forecast-title {
      margin: 0.75rem 0 0.55rem 0;
      font-size: 0.92rem;
      font-weight: 700;
      opacity: 0.92;
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(7, minmax(0, 1fr));
      gap: 0.55rem;
    }

    @media (max-width: 900px) {
      .forecast-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
    @media (max-width: 520px) {
      .forecast-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    .day {
      background: rgba(255,255,255,0.55);
      border: 1px solid rgba(255,255,255,0.55);
      border-radius: 14px;
      padding: 0.75rem 0.7rem;
      text-align: center;
      backdrop-filter: blur(8px);
    }

    [data-theme="dark"] .day {
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.14);
    }

    .day .dow {
      font-size: 0.82rem;
      font-weight: 700;
      opacity: 0.9;
      margin-bottom: 0.35rem;
    }

    .day .icon {
      font-size: 1.1rem;
      line-height: 1.1rem;
      margin: 0.15rem 0 0.35rem 0;
    }

    .day .hi {
      font-weight: 800;
      font-size: 0.95rem;
    }

    .day .lo {
      opacity: 0.82;
      font-size: 0.85rem;
      margin-top: 0.12rem;
    }

    .weather-footer {
      margin-top: 0.85rem;
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.9;
    }

    .weather-link {
      color: inherit;
      text-decoration: underline;
      text-underline-offset: 3px;
    }

    .weather-note {
      margin-top: 0.4rem;
      font-size: 0.85rem;
      opacity: 0.82;
      text-align: right;
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <header>
    <div class="nav">
  <div class="nav-left">
  <a href="index.html">Adam Skarre</a>
</div>
      <nav class="nav-right">
        <a href="projects.html">Projects</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>

        <button class="theme-switch" id="themeToggle" type="button" aria-label="Toggle theme">
          <span class="theme-knob">
            <span class="icon-sun" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm0-16a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1Zm0 18a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1ZM4.22 5.64a1 1 0 0 1 1.41 0l.7.7A1 1 0 1 1 4.92 7.76l-.7-.7a1 1 0 0 1 0-1.41Zm13.45 13.45a1 1 0 0 1 1.41 0l.7.7a1 1 0 0 1-1.41 1.41l-.7-.7a1 1 0 0 1 0-1.41ZM2 12a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm18 0a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2h-1a1 1 0 0 1-1-1ZM4.22 18.36a1 1 0 0 1 0-1.41l.7-.7a1 1 0 1 1 1.41 1.41l-.7.7a1 1 0 0 1-1.41 0Zm13.45-13.45a1 1 0 0 1 0-1.41l.7-.7a1 1 0 1 1 1.41 1.41l-.7.7a1 1 0 0 1-1.41 0Z"/>
              </svg>
            </span>
            <span class="icon-moon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M21.64 13a1 1 0 0 0-1.06-.27 8 8 0 0 1-10.31-10.3A1 1 0 0 0 9 1.36 10 10 0 1 0 22.64 14a1 1 0 0 0-1-.99ZM12 20a8 8 0 0 1-3.52-15.2 10 10 0 0 0 10.72 10.72A7.99 7.99 0 0 1 12 20Z"/>
              </svg>
            </span>
          </span>
        </button>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <!-- HERO -->
    <section class="card hero">
      <h1>Welcome</h1>
      <p>
      Iâ€™m Adam Skarre. My work sits at the intersection of engineering and financial technology. Iâ€™m driven by quantitative problem-solving and systems thinking, with a focus on building technically grounded solutions that connect computer science, mathematics, and real-world decision making. This site documents projects across design, manufacturing, quantitative modeling, and applied analysis.
      </p>
      <a href="projects.html">View projects â†’</a>
    </section>

    <!-- ABOUT -->
    <section class="card about">
      <h2>About</h2>
      <ul>
        <li>Mechanical Engineering background with design and manufacturing focus</li>
        <li>Experience with quantitative modeling and analytical problem-solving</li>
        <li>Drawn to solving problems at the intersection of engineering, finance, and technology</li>
        <li>Comfortable bridging technical depth with business and decision-oriented contexts</li>
      </ul>

    </section>

    <!-- WEATHER (Block 3) -->
    <section class="weather-wrap">
      <div class="weather-title">Local weather this week</div>

      <div class="weather-card" id="weatherCard" aria-live="polite">
        <div class="weather-top">
          <div class="weather-top-left">
            <h3 id="weatherLocation">Local Weather</h3>
            <div class="weather-meta" id="weatherMeta">Uses browser location Â· Fahrenheit</div>
          </div>

          <button class="weather-cta" id="weatherBtn" type="button">
            Check weather
          </button>
        </div>

        <div class="weather-main" id="weatherMain" style="display:none;">
          <div class="weather-temp" id="weatherTemp">â€”</div>
          <div>
            <div class="weather-desc" id="weatherDesc">â€”</div>
            <div class="weather-sub" id="weatherSub">â€”</div>
          </div>
        </div>

        <div class="forecast-title" id="forecastTitle" style="display:none;">7-Day Forecast</div>
        <div class="forecast-grid" id="forecastGrid" style="display:none;"></div>

        <div class="weather-footer" id="weatherFooter" style="display:none;">
          <a class="weather-link" id="detailLink" href="#" target="_blank" rel="noreferrer">View detailed forecast â†’</a>
        </div>

        <div class="weather-note" id="weatherNote">No API key required.</div>
      </div>
    </section>
  </main>

  <!-- SCRIPTS -->
  <script>
    /* ---------- Theme toggle ---------- */
    const html = document.documentElement;
    const toggle = document.getElementById("themeToggle");

    const savedTheme = localStorage.getItem("theme");
    if (savedTheme) html.setAttribute("data-theme", savedTheme);

    toggle.addEventListener("click", () => {
      const next = html.getAttribute("data-theme") === "dark" ? "light" : "dark";
      html.setAttribute("data-theme", next);
      localStorage.setItem("theme", next);
    });

    /* ---------- Weather (Open-Meteo + reverse geocode for location label) ---------- */
    const weatherBtn = document.getElementById("weatherBtn");
    const weatherLocation = document.getElementById("weatherLocation");
    const weatherMeta = document.getElementById("weatherMeta");
    const weatherMain = document.getElementById("weatherMain");
    const weatherTemp = document.getElementById("weatherTemp");
    const weatherDesc = document.getElementById("weatherDesc");
    const weatherSub = document.getElementById("weatherSub");
    const forecastTitle = document.getElementById("forecastTitle");
    const forecastGrid = document.getElementById("forecastGrid");
    const weatherFooter = document.getElementById("weatherFooter");
    const detailLink = document.getElementById("detailLink");

    function dowShort(isoDate) {
      const d = new Date(isoDate + "T00:00:00");
      return d.toLocaleDateString(undefined, { weekday: "short", month: "short", day: "numeric" });
    }

    function weatherCodeToText(code) {
      // Open-Meteo WMO codes (condensed)
      const map = new Map([
        [0, "Clear"],
        [1, "Mainly Clear"], [2, "Partly Cloudy"], [3, "Overcast"],
        [45, "Fog"], [48, "Rime Fog"],
        [51, "Light Drizzle"], [53, "Drizzle"], [55, "Heavy Drizzle"],
        [56, "Freezing Drizzle"], [57, "Heavy Freezing Drizzle"],
        [61, "Light Rain"], [63, "Rain"], [65, "Heavy Rain"],
        [66, "Freezing Rain"], [67, "Heavy Freezing Rain"],
        [71, "Light Snow"], [73, "Snow"], [75, "Heavy Snow"],
        [77, "Snow Grains"],
        [80, "Rain Showers"], [81, "Heavy Showers"], [82, "Violent Showers"],
        [85, "Snow Showers"], [86, "Heavy Snow Showers"],
        [95, "Thunderstorm"],
        [96, "Thunderstorm + Hail"], [99, "Thunderstorm + Heavy Hail"],
      ]);
      return map.get(code) || "Conditions";
    }

    function weatherCodeToIcon(code) {
      if (code === 0) return "â˜€ï¸";
      if (code === 1 || code === 2) return "â›…";
      if (code === 3) return "â˜ï¸";
      if (code === 45 || code === 48) return "ðŸŒ«ï¸";
      if ([51,53,55,56,57].includes(code)) return "ðŸŒ¦ï¸";
      if ([61,63,65,66,67,80,81,82].includes(code)) return "ðŸŒ§ï¸";
      if ([71,73,75,77,85,86].includes(code)) return "â„ï¸";
      if ([95,96,99].includes(code)) return "â›ˆï¸";
      return "ðŸŒ¤ï¸";
    }

    async function reverseGeocode(lat, lon) {
      // Lightweight label; no key required
      const url = `https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lon}`;
      const res = await fetch(url, { headers: { "Accept": "application/json" } });
      const data = await res.json();
      const a = data.address || {};
      const city = a.city || a.town || a.village || a.hamlet || a.suburb || a.county;
      const state = a.state || a.region;
      if (city && state) return `${city}, ${state}`;
      if (city) return city;
      if (state) return state;
      return "Local Weather";
    }

    async function fetchWeather(lat, lon) {
      const url =
        `https://api.open-meteo.com/v1/forecast?` +
        `latitude=${lat}&longitude=${lon}` +
        `&current=temperature_2m,apparent_temperature,weather_code,wind_speed_10m` +
        `&daily=weather_code,temperature_2m_max,temperature_2m_min` +
        `&temperature_unit=fahrenheit&windspeed_unit=mph` +
        `&timezone=auto`;

      const res = await fetch(url);
      if (!res.ok) throw new Error("Weather fetch failed");
      return res.json();
    }

    function setLoading(isLoading) {
      weatherBtn.disabled = isLoading;
      weatherBtn.textContent = isLoading ? "Loadingâ€¦" : "Check weather";
      weatherBtn.style.opacity = isLoading ? "0.85" : "1";
    }

    async function getWeather() {
      if (!navigator.geolocation) return;

      setLoading(true);

      navigator.geolocation.getCurrentPosition(async (pos) => {
        try {
          const { latitude, longitude } = pos.coords;

          // Location label (best-effort)
          try {
            const label = await reverseGeocode(latitude, longitude);
            weatherLocation.textContent = label;
          } catch (_) {
            weatherLocation.textContent = "Local Weather";
          }

          const data = await fetchWeather(latitude, longitude);

          const c = data.current;
          const descText = weatherCodeToText(c.weather_code);
          const feels = Math.round(c.apparent_temperature);
          const temp = Math.round(c.temperature_2m);
          const wind = Math.round(c.wind_speed_10m);

          weatherMain.style.display = "flex";
          weatherTemp.textContent = `${temp}Â°F`;
          weatherDesc.textContent = `${weatherCodeToIcon(c.weather_code)} ${descText}`;
          weatherSub.textContent = `Feels like ${feels}Â°F Â· Wind ${wind} mph`;

          // 7 day
          const days = data.daily.time;
          const hi = data.daily.temperature_2m_max;
          const lo = data.daily.temperature_2m_min;
          const codes = data.daily.weather_code;

          forecastGrid.innerHTML = "";
          for (let i = 0; i < Math.min(7, days.length); i++) {
            const d = document.createElement("div");
            d.className = "day";
            d.innerHTML = `
              <div class="dow">${dowShort(days[i])}</div>
              <div class="icon">${weatherCodeToIcon(codes[i])}</div>
              <div class="hi">${Math.round(hi[i])}Â°</div>
              <div class="lo">${Math.round(lo[i])}Â°</div>
            `;
            forecastGrid.appendChild(d);
          }

          forecastTitle.style.display = "block";
          forecastGrid.style.display = "grid";
          weatherFooter.style.display = "block";

          // â€œDetailed forecastâ€ (no key)
          detailLink.href = `https://www.open-meteo.com/en/weather/forecast?lat=${latitude}&lon=${longitude}`;

          setLoading(false);
        } catch (e) {
          setLoading(false);
          weatherMeta.textContent = "Could not load weather. Location permission required.";
        }
      }, () => {
        setLoading(false);
        weatherMeta.textContent = "Location permission required to load local forecast.";
      }, { enableHighAccuracy: false, timeout: 12000, maximumAge: 600000 });
    }

    weatherBtn.addEventListener("click", getWeather);
  </script>
  <footer class="site-footer">
  Â© 2025 Adam Skarre. All rights reserved.
</footer>
</body>
</html>
