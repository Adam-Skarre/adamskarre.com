<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Adam Skarre</title>

  <link rel="stylesheet" href="style.css" />

  <style>
    /* --- THEME VARIABLES --- */
    :root {
      --bg: #ffffff;
      --text: #111111;
      --muted: #555;
      --card: #f4f4f5;
      --border: #e5e7eb;
      --shadow: 0 10px 30px rgba(0,0,0,0.08);

      --pill: rgba(17,17,17,0.06);
      --pillText: rgba(17,17,17,0.8);

      --weatherBlue1: #cfe2ff;
      --weatherBlue2: #8db9ff;
      --weatherBlue3: #2f6feb;
      --weatherInk: #0b1b3a;

      --btnBg: #ffffff;
      --btnText: #111111;
      --btnBorder: rgba(0,0,0,0.12);
      --btnShadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    [data-theme="dark"] {
      --bg: #0f1115;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --card: #1c1f26;
      --border: #2a2f3a;
      --shadow: 0 12px 40px rgba(0,0,0,0.35);

      --pill: rgba(229,231,235,0.08);
      --pillText: rgba(229,231,235,0.85);

      --weatherBlue1: #0f2a66;
      --weatherBlue2: #103680;
      --weatherBlue3: #2f6feb;
      --weatherInk: #eaf1ff;

      --btnBg: rgba(255,255,255,0.14);
      --btnText: #eaf1ff;
      --btnBorder: rgba(255,255,255,0.18);
      --btnShadow: 0 10px 26px rgba(0,0,0,0.45);
    }

    body {
      background: var(--bg);
      color: var(--text);
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* --- NAV --- */
    header {
      position: sticky;
      top: 0;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
      z-index: 100;
      backdrop-filter: saturate(140%) blur(10px);
    }

    .nav {
      max-width: 1100px;
      margin: 0 auto;
      padding: 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav-left {
      font-weight: 600;
      font-size: 1.1rem;
    }

    .nav-right {
      display: flex;
      gap: 1.5rem;
      align-items: center;
    }

    /* --- THEME TOGGLE (smooth switch) --- */
    .theme-switch {
      width: 66px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: var(--card);
      position: relative;
      cursor: pointer;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.35);
      display: inline-flex;
      align-items: center;
      padding: 4px;
    }

    .theme-knob {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: var(--bg);
      border: 1px solid var(--border);
      box-shadow: 0 8px 18px rgba(0,0,0,0.18);
      transform: translateX(0);
      transition: transform 220ms ease;
      display: grid;
      place-items: center;
    }

    [data-theme="dark"] .theme-knob {
      transform: translateX(32px);
    }

    .icon-sun, .icon-moon {
      width: 18px;
      height: 18px;
      display: none;
    }

    [data-theme="light"] .icon-sun { display: block; }
    [data-theme="dark"]  .icon-moon { display: block; }

    .icon-sun svg { fill: #f5c518; }     /* yellow sun */
    .icon-moon svg { fill: #cfd6e6; }    /* moon */

    .theme-switch:focus-visible {
      outline: 2px solid rgba(47,111,235,0.55);
      outline-offset: 3px;
    }

    /* --- MAIN LAYOUT --- */
    main {
      max-width: 1100px;
      margin: 0 auto;
      padding: 4rem 1rem;
      display: grid;
      gap: 3rem;
    }

    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 2rem;
      box-shadow: var(--shadow);
    }

    /* --- HERO --- */
    .hero h1 {
      margin: 0 0 0.75rem 0;
      font-size: 2.4rem;
    }

    .hero p {
      max-width: 650px;
      color: var(--muted);
      line-height: 1.6;
    }

    .hero a {
      display: inline-block;
      margin-top: 1.25rem;
      font-weight: 500;
      border-bottom: 1px solid var(--text);
    }

    /* --- ABOUT BLOCK --- */
    .about ul {
      margin: 1rem 0 0 0;
      padding-left: 1.2rem;
    }

    .about li {
      margin-bottom: 0.6rem;
      color: var(--muted);
    }

    /* --- CAPABILITIES --- */
    .cap-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .cap {
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.25rem;
      background: var(--bg);
      transition: transform 0.15s ease;
    }

    .cap:hover {
      transform: translateY(-2px);
    }

    .cap h4 {
      margin: 0 0 0.4rem 0;
    }

    .cap p {
      margin: 0;
      font-size: 0.9rem;
      color: var(--muted);
    }

    /* --- WEATHER (Anaïs-like: blue card, location, 7-day) --- */
    .weather-wrap {
      margin-top: 0.25rem;
    }

    .weather-title {
      font-weight: 600;
      margin: 0 0 0.75rem 0;
      color: var(--text);
    }

    .weather-card {
      border-radius: 18px;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--weatherBlue1), var(--weatherBlue2));
      color: var(--weatherInk);
      padding: 1.4rem 1.4rem 1.2rem 1.4rem;
      box-shadow: var(--shadow);
      overflow: hidden;
      position: relative;
    }

    .weather-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      margin-bottom: 0.8rem;
    }

    .weather-top-left h3 {
      margin: 0;
      font-size: 1.15rem;
      letter-spacing: -0.01em;
    }

    .weather-meta {
      margin-top: 0.25rem;
      font-size: 0.92rem;
      opacity: 0.88;
    }

    .weather-cta {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      border-radius: 999px;
      padding: 0.6rem 0.95rem;
      border: 1px solid var(--btnBorder);
      background: var(--btnBg);
      color: var(--btnText);
      cursor: pointer;
      box-shadow: var(--btnShadow);
      font-weight: 600;
      white-space: nowrap;
    }

    .weather-cta:active { transform: translateY(1px); }

    .weather-main {
      display: flex;
      align-items: baseline;
      gap: 1rem;
      margin: 0.35rem 0 0.85rem 0;
      flex-wrap: wrap;
    }

    .weather-temp {
      font-size: 2.4rem;
      font-weight: 800;
      letter-spacing: -0.03em;
    }

    .weather-desc {
      font-size: 1rem;
      opacity: 0.92;
      font-weight: 600;
    }

    .weather-sub {
      font-size: 0.92rem;
      opacity: 0.88;
    }

    .forecast-title {
      margin: 0.75rem 0 0.55rem 0;
      font-size: 0.92rem;
      font-weight: 700;
      opacity: 0.92;
    }

    .forecast-grid {
      display: grid;
      grid-template-columns: repeat(7, minmax(0, 1fr));
      gap: 0.55rem;
    }

    @media (max-width: 900px) {
      .forecast-grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
    @media (max-width: 520px) {
      .forecast-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }

    .day {
      background: rgba(255,255,255,0.55);
      border: 1px solid rgba(255,255,255,0.55);
      border-radius: 14px;
      padding: 0.75rem 0.7rem;
      text-align: center;
      backdrop-filter: blur(8px);
    }

    [data-theme="dark"] .day {
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.14);
    }

    .day .dow {
      font-size: 0.82rem;
      font-weight: 700;
      opacity: 0.9;
      margin-bottom: 0.35rem;
    }

    .day .icon {
      font-size: 1.1rem;
      line-height: 1.1rem;
      margin: 0.15rem 0 0.35rem 0;
    }

    .day .hi {
      font-weight: 800;
      font-size: 0.95rem;
    }

    .day .lo {
      opacity: 0.82;
      font-size: 0.85rem;
      margin-top: 0.12rem;
    }

    .weather-footer {
      margin-top: 0.85rem;
      text-align: center;
      font-size: 0.9rem;
      opacity: 0.9;
    }

    .weather-link {
      color: inherit;
      text-decoration: underline;
      text-underline-offset: 3px;
    }

    .weather-note {
      margin-top: 0.4rem;
      font-size: 0.85rem;
      opacity: 0.82;
      text-align: right;
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <header>
    <div class="nav">
      <div class="nav-left">
        <a href="index.html">Adam Skarre</a>
      </div>
      <nav class="nav-right">
        <a href="projects.html">Projects</a>
        <a href="blog.html">Blog</a>
        <a href="contact.html">Contact</a>

        <button class="theme-switch" id="themeToggle" type="button" aria-label="Toggle theme">
          <span class="theme-knob">
            <span class="icon-sun" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm0-16a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1Zm0 18a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1ZM4.22 5.64a1 1 0 0 1 1.41 0l.7.7A1 1 0 1 1 4.92 7.76l-.7-.7a1 1 0 0 1 0-1.41Zm13.45 13.45a1 1 0 0 1 1.41 0l.7.7a1 1 0 0 1-1.41 1.41l-.7-.7a1 1 0 0 1 0-1.41ZM2 12a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm18 0a1 1 0 0 1 1-1h1a1 1 0 1 1 0 2h-1a1 1 0 0 1-1-1ZM4.22 18.36a1 1 0 0 1 0-1.41l.7-.7a1 1 0 1 1 1.41 1.41l-.7.7a1 1 0 0 1-1.41 0Zm13.45-13.45a1 1 0 0 1 0-1.41l.7-.7a1 1 0 1 1 1.41 1.41l-.7.7a1 1 0 0 1-1.41 0Z"/>
              </svg>
            </span>
            <span class="icon-moon" aria-hidden="true">
              <svg viewBox="0 0 24 24">
                <path d="M21.64 13a1 1 0 0 0-1.06-.27 8 8 0 0 1-10.31-10.3A1 1 0 0 0 9 1.36 10 10 0 1 0 22.64 14a1 1 0 0 0-1-.99ZM12 20a8 8 0 0 1-3.52-15.2 10 10 0 0 0 10.72 10.72A7.99 7.99 0 0 1 12 20Z"/>
              </svg>
            </span>
          </span>
        </button>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main>
    <!-- HERO -->
    <section class="card hero">
      <h1>Welcome</h1>
      <p>
        I’m a mechanical engineering student working at the intersection of
        physical systems, quantitative modeling, and real-world constraints.
        My work emphasizes simulation, trade-off analysis, and first-principles
        thinking.
      </p>
      <a href="projects.html">View projects →</a>
    </section>

    <!-- ABOUT -->
    <section class="card about">
      <h2>About</h2>
      <ul>
        <li>Mechanical Engineering background with design and manufacturing focus</li>
        <li>Experience with modeling, simulation, and experimental reasoning</li>
        <li>Quantitative systems spanning signals, optimization, and analysis</li>
        <li>Comfort working across engineering, business, and technical communication</li>
      </ul>

      <div class="cap-grid">
        <a class="cap" href="cad-projects.html">
          <h4>Design</h4>
          <p>CAD, system layout, constraints</p>
        </a>
        <a class="cap" href="Manufacturing-projects.html">
          <h4>Manufacturing</h4>
          <p>DFM, process context</p>
        </a>
        <a class="cap" href="Laboratory.html">
          <h4>Laboratory</h4>
          <p>Testing, instrumentation</p>
        </a>
        <a class="cap" href="ai-modeling-projects.html">
          <h4>Quant Modeling</h4>
          <p>Simulation, signals, optimization</p>
        </a>
        <a class="cap" href="consulting-projects.html">
          <h4>Consulting</h4>
          <p>Analysis, strategy, execution</p>
        </a>
      </div>
    </section>

    <!-- WEATHER (Block 3) -->
    <section class="weather-wrap">
      <div class="weather-title">Local weather this week</div>

      <div class="weather-card" id="weatherCard" aria-live="polite">
        <div class="weather-top">
          <div class="weather-top-left">
            <h3 id="weatherLocation">Local Weather</h3>
            <div class="weather-meta" id="weatherMeta">Uses browser location · Fahrenheit</div>
          </div>

          <button class="weather-cta" id="weatherBtn" type="button">
            Check weather
          </button>
        </div>

        <div class="weather-main" id="weatherMain" style="display:none;">
          <div class="weather-temp" id="weatherTemp">—</div>
          <div>
            <div class="weather-desc" id="weatherDesc">—</div>
            <div class="weather-sub" id="weatherSub">—</div>
          </div>
        </div>

        <div class="forecast-title" id="forecastTitle" style="display:none;">7-Day Forecast</div>
        <div class="forecast-grid" id="forecastGrid" style="display:none;"></div>

        <div class="weather-footer" id="weatherFooter" style="display:none;">
          <a class="weather-link" id="detailLink" href="#" target="_blank" rel="noreferrer">View detailed forecast →</a>
        </div>

        <div class="weather-note" id="weatherNote">No API key required.</div>
      </div>
    </section>
  </main>

  <!-- SCRIPTS -->
  <script>
(async function () {
  if (!navigator.geolocation) return;

  navigator.geolocation.getCurrentPosition(async pos => {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;

    // Reverse geocode (Open-Meteo)
    const geoRes = await fetch(
      `https://geocoding-api.open-meteo.com/v1/reverse?latitude=${lat}&longitude=${lon}`
    );
    const geo = await geoRes.json();
    const place = geo.results?.[0];

    const city = place?.name || "Your area";
    const state = place?.admin1 || "";

    document.getElementById("weatherLocation").textContent =
      `${city}${state ? ", " + state : ""}`;

    // Weather preview
    const wRes = await fetch(
      `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&temperature_unit=fahrenheit`
    );
    const w = await wRes.json();
    const cw = w.current_weather;

    document.getElementById("weatherTemp").textContent =
      Math.round(cw.temperature) + "°F";

    document.getElementById("weatherDesc").textContent =
      cw.weathercode === 0 ? "Clear" : "See full forecast";

    // AccuWeather link (search-based, always works)
    const query = encodeURIComponent(`${city} ${state}`);
    document.getElementById("weatherLink").href =
      `https://www.accuweather.com/en/search-locations?query=${query}`;
  });
})();
</script>
</body>
</html>
